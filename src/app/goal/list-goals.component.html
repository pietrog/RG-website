
<div class="add-goal">
  <table class="goals-table">
    <tr>
      <td><label>Nom</label></td>
      <td><input [(ngModel)]="goal.name" placeholder="Nom de l'objectif"></td>
    </tr>
    <tr>
      <td><label>Score</label></td>
      <td><input [(ngModel)]="goal.number_of_points" type="number" placeholder="Nombre de points"></td>
    </tr>
    <tr>
      <td><label>Code validation</label></td>
      <td><input [(ngModel)]="goal.code" placeholder="Code de validation" ></td>
    </tr>
    <tr>
      <td><label>Nombre de validations(arrivé à 0, ne rapporte plus de points (-1 validation infinie))</label></td>
      <td><input [(ngModel)]="goal.compteur" type="number" placeholder="Compteur de validation de l'objectif"></td>
    </tr>
    <tr>
      <td></td>
      <td><button (click)="save()" ngDefaultControl>Ajouter</button></td>
    </tr>
    
  </table>
</div>  
  
<table class="goals-table">
  <tr>
    <th>Nom</th>
    <th>Nombre de points</th>
    <th>Compteur</th>
    <th>Delete</th>
  </tr>
  <tr *ngFor="let goal of goals"
      [class.selected]="goal === selectedGoal"
      (click)="onSelect(goal)"
      >
    <td>{{goal.name}}</td>
    <td>
      <div class="count-div">
	<span>{{goal.number_of_points}}</span>
	<input  class="count-input"  id="`goal._id`" [(ngModel)]="scores[goal._id]" size="3"/>
	<button class="w3-padding w3-xlarge fa fa-caret-right count-button" (click)="setGoalScore(goal); $event.stopPropagation()"></button>
      </div>
    </td>    
    <td>
      <div class="count-div">
	<span>{{goal.compteur}}</span>
	<input  class="count-input"  id="`goal._id`" [(ngModel)]="compteurs[goal._id]" size="3"/>
	<button class="w3-padding w3-xlarge fa fa-caret-right count-button" (click)="setGoalCompteur(goal); $event.stopPropagation()"></button>
      </div>
    </td>
    
    <td>
      <button type="button" class="w3-padding w3-xlarge w3-red fa fa-trash delete-button" (click)="delete(goal); $event.stopPropagation()"></button>
    </td>
  </tr>
</table>
